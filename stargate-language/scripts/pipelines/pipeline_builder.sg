use ut;

fn show_summary(count) {
    if count > 15 {
        return 2;
    } else {
        return 1;
    }
}

[test]
fn test_pipeline_building() {
    let item_count = (list-directory).total_count;
    ut.assert_true(item_count >= 0, "Should have non-negative count");
    let stages = show_summary(item_count);
    ut.assert_true(stages == 1 || stages == 2, "Should return 1 or 2 stages");
}

print ut.stats;
exit(ut.healthy);
