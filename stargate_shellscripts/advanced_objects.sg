#!/usr/bin/env stargate-shell


class AdvancedObjectDemo {
    let env = (get-environment);
}

let demo = new AdvancedObjectDemo();
print "demo {demo.env.count} environment variables loaded.";

# passing an instance of AdvancedObjectDemo through a pipe to stargate commands
let result = demo.env | slice-object environment | dice-object SHELL TERM COLORTERM;
print "term: {result.TERM}";

assert result.SHELL != "", "SHELL should not be empty";