
pub fn decode_service_uuid(uuid: &str) -> Option<String> {
    let uuid_lower = uuid.to_lowercase();
    
    match uuid_lower.as_str() {
        "00001101-0000-1000-8000-00805f9b34fb" => Some("Serial Port".to_string()),
        "00001102-0000-1000-8000-00805f9b34fb" => Some("LAN Access".to_string()),
        "00001103-0000-1000-8000-00805f9b34fb" => Some("Dialup Networking".to_string()),
        "00001104-0000-1000-8000-00805f9b34fb" => Some("IrMC Sync".to_string()),
        "00001105-0000-1000-8000-00805f9b34fb" => Some("OBEX Object Push".to_string()),
        "00001106-0000-1000-8000-00805f9b34fb" => Some("OBEX File Transfer".to_string()),
        "00001108-0000-1000-8000-00805f9b34fb" => Some("Headset".to_string()),
        "0000110a-0000-1000-8000-00805f9b34fb" => Some("Audio Source".to_string()),
        "0000110b-0000-1000-8000-00805f9b34fb" => Some("Audio Sink".to_string()),
        "0000110c-0000-1000-8000-00805f9b34fb" => Some("A/V Remote Control Target".to_string()),
        "0000110d-0000-1000-8000-00805f9b34fb" => Some("Advanced Audio".to_string()),
        "0000110e-0000-1000-8000-00805f9b34fb" => Some("A/V Remote Control".to_string()),
        "0000110f-0000-1000-8000-00805f9b34fb" => Some("A/V Remote Control Controller".to_string()),
        "00001112-0000-1000-8000-00805f9b34fb" => Some("Headset Audio Gateway".to_string()),
        "00001115-0000-1000-8000-00805f9b34fb" => Some("Personal Area Network".to_string()),
        "00001116-0000-1000-8000-00805f9b34fb" => Some("Network Access Point".to_string()),
        "00001117-0000-1000-8000-00805f9b34fb" => Some("Group Network".to_string()),
        "0000111e-0000-1000-8000-00805f9b34fb" => Some("Handsfree".to_string()),
        "0000111f-0000-1000-8000-00805f9b34fb" => Some("Handsfree Audio Gateway".to_string()),
        "00001200-0000-1000-8000-00805f9b34fb" => Some("PnP Information".to_string()),
        "00001201-0000-1000-8000-00805f9b34fb" => Some("Generic Networking".to_string()),
        "00001202-0000-1000-8000-00805f9b34fb" => Some("Generic File Transfer".to_string()),
        "00001203-0000-1000-8000-00805f9b34fb" => Some("Generic Audio".to_string()),
        "00001204-0000-1000-8000-00805f9b34fb" => Some("Generic Telephony".to_string()),
        "0000180a-0000-1000-8000-00805f9b34fb" => Some("Device Information".to_string()),
        "0000180d-0000-1000-8000-00805f9b34fb" => Some("Heart Rate".to_string()),
        "0000180f-0000-1000-8000-00805f9b34fb" => Some("Battery Service".to_string()),
        "00001810-0000-1000-8000-00805f9b34fb" => Some("Blood Pressure".to_string()),
        "00001811-0000-1000-8000-00805f9b34fb" => Some("Alert Notification".to_string()),
        "00001812-0000-1000-8000-00805f9b34fb" => Some("Human Interface Device".to_string()),
        "00001813-0000-1000-8000-00805f9b34fb" => Some("Scan Parameters".to_string()),
        "00001814-0000-1000-8000-00805f9b34fb" => Some("Running Speed and Cadence".to_string()),
        "00001815-0000-1000-8000-00805f9b34fb" => Some("Automation IO".to_string()),
        "00001816-0000-1000-8000-00805f9b34fb" => Some("Cycling Speed and Cadence".to_string()),
        "00001818-0000-1000-8000-00805f9b34fb" => Some("Cycling Power".to_string()),
        "00001819-0000-1000-8000-00805f9b34fb" => Some("Location and Navigation".to_string()),
        "0000181a-0000-1000-8000-00805f9b34fb" => Some("Environmental Sensing".to_string()),
        "0000181b-0000-1000-8000-00805f9b34fb" => Some("Body Composition".to_string()),
        "0000181c-0000-1000-8000-00805f9b34fb" => Some("User Data".to_string()),
        "0000181d-0000-1000-8000-00805f9b34fb" => Some("Weight Scale".to_string()),
        "0000181e-0000-1000-8000-00805f9b34fb" => Some("Bond Management".to_string()),
        "0000181f-0000-1000-8000-00805f9b34fb" => Some("Continuous Glucose Monitoring".to_string()),
        "00001820-0000-1000-8000-00805f9b34fb" => Some("Internet Protocol Support".to_string()),
        "00001821-0000-1000-8000-00805f9b34fb" => Some("Indoor Positioning".to_string()),
        "00001822-0000-1000-8000-00805f9b34fb" => Some("Pulse Oximeter".to_string()),
        "00001823-0000-1000-8000-00805f9b34fb" => Some("HTTP Proxy".to_string()),
        "00001824-0000-1000-8000-00805f9b34fb" => Some("Transport Discovery".to_string()),
        "00001825-0000-1000-8000-00805f9b34fb" => Some("Object Transfer".to_string()),
        "00001826-0000-1000-8000-00805f9b34fb" => Some("Fitness Machine".to_string()),
        "00001827-0000-1000-8000-00805f9b34fb" => Some("Mesh Provisioning".to_string()),
        "00001828-0000-1000-8000-00805f9b34fb" => Some("Mesh Proxy".to_string()),
        "00001829-0000-1000-8000-00805f9b34fb" => Some("Reconnection Configuration".to_string()),
        "00001830-0000-1000-8000-00805f9b34fb" => Some("Insulin Delivery".to_string()),
        "00001843-0000-1000-8000-00805f9b34fb" => Some("Audio Stream Control".to_string()),
        "00001844-0000-1000-8000-00805f9b34fb" => Some("Broadcast Audio Scan".to_string()),
        "00001845-0000-1000-8000-00805f9b34fb" => Some("Published Audio Capabilities".to_string()),
        "00001846-0000-1000-8000-00805f9b34fb" => Some("Basic Audio Announcement".to_string()),
        "00001847-0000-1000-8000-00805f9b34fb" => Some("Broadcast Audio Announcement".to_string()),
        "00001848-0000-1000-8000-00805f9b34fb" => Some("Common Audio".to_string()),
        "00001849-0000-1000-8000-00805f9b34fb" => Some("Hearing Access".to_string()),
        "0000184a-0000-1000-8000-00805f9b34fb" => Some("Telephone Bearer".to_string()),
        "0000184b-0000-1000-8000-00805f9b34fb" => Some("Generic Media Control".to_string()),
        "0000184c-0000-1000-8000-00805f9b34fb" => Some("Media Control".to_string()),
        "0000184d-0000-1000-8000-00805f9b34fb" => Some("Coordinated Set Identification".to_string()),
        "0000fef3-0000-1000-8000-00805f9b34fb" => Some("Tile".to_string()),
        "0000fef4-0000-1000-8000-00805f9b34fb" => Some("Chipolo".to_string()),
        "0000fee6-0000-1000-8000-00805f9b34fb" => Some("Google Fast Pair".to_string()),
        "0000fee7-0000-1000-8000-00805f9b34fb" => Some("Android Wear".to_string()),
        "0000feaa-0000-1000-8000-00805f9b34fb" => Some("Google Eddystone".to_string()),
        "0000fea0-0000-1000-8000-00805f9b34fb" => Some("Google Wear".to_string()),
        "e7810a71-73ae-499d-8c15-faa9aef0c3f2" => Some("Nordic UART Service".to_string()),
        "6e400001-b5a3-f393-e0a9-e50e24dcca9e" => Some("Nordic UART Service".to_string()),
        "0000fff0-0000-1000-8000-00805f9b34fb" => Some("OBD-II Service".to_string()),
        "0000fff1-0000-1000-8000-00805f9b34fb" => Some("Tire Pressure Monitoring".to_string()),
        "0000fff2-0000-1000-8000-00805f9b34fb" => Some("Vehicle Data Service".to_string()),
        "0000fff3-0000-1000-8000-00805f9b34fb" => Some("Remote Keyless Entry".to_string()),
        "0000fff4-0000-1000-8000-00805f9b34fb" => Some("Vehicle Control Service".to_string()),
        "0000fff5-0000-1000-8000-00805f9b34fb" => Some("Dashcam Service".to_string()),
        "0000ffe0-0000-1000-8000-00805f9b34fb" => Some("Car Diagnostic Service".to_string()),
        "0000ffe1-0000-1000-8000-00805f9b34fb" => Some("GPS Tracker Service".to_string()),
        "0000ffe5-0000-1000-8000-00805f9b34fb" => Some("ELM327 OBD Adapter".to_string()),
        
        // GPS Tracker specific services
        "0000ffe2-0000-1000-8000-00805f9b34fb" => Some("Vehicle GPS Tracker".to_string()),
        "0000ffe3-0000-1000-8000-00805f9b34fb" => Some("Asset Tracker".to_string()),
        "0000ffe4-0000-1000-8000-00805f9b34fb" => Some("Pet GPS Tracker".to_string()),
        "0000ffe6-0000-1000-8000-00805f9b34fb" => Some("Personal GPS Tracker".to_string()),
        "0000ffe7-0000-1000-8000-00805f9b34fb" => Some("Bike GPS Tracker".to_string()),
        "0000ffe8-0000-1000-8000-00805f9b34fb" => Some("Container Tracker".to_string()),
        "0000ffe9-0000-1000-8000-00805f9b34fb" => Some("Fleet Management Tracker".to_string()),
        "0000ffea-0000-1000-8000-00805f9b34fb" => Some("Luggage Tracker".to_string()),
        "0000ffeb-0000-1000-8000-00805f9b34fb" => Some("Elderly Care Tracker".to_string()),
        "0000ffec-0000-1000-8000-00805f9b34fb" => Some("Child Safety Tracker".to_string()),
        "0000ffed-0000-1000-8000-00805f9b34fb" => Some("Maritime GPS Tracker".to_string()),
        "0000ffee-0000-1000-8000-00805f9b34fb" => Some("Aviation Tracker".to_string()),
        "0000ffef-0000-1000-8000-00805f9b34fb" => Some("Equipment Tracker".to_string()),
        "6e400002-b5a3-f393-e0a9-e50e24dcca9e" => Some("Nordic UART RX (GPS)".to_string()),
        "6e400003-b5a3-f393-e0a9-e50e24dcca9e" => Some("Nordic UART TX (GPS)".to_string()),
        "0000aa00-0000-1000-8000-00805f9b34fb" => Some("Jimi IoT Tracker".to_string()),
        "0000aa01-0000-1000-8000-00805f9b34fb" => Some("Queclink Tracker".to_string()),
        "0000aa02-0000-1000-8000-00805f9b34fb" => Some("Concox Tracker".to_string()),
        "0000aa03-0000-1000-8000-00805f9b34fb" => Some("Teltonika Tracker".to_string()),
        "0000aa04-0000-1000-8000-00805f9b34fb" => Some("Trackimo GPS".to_string()),
        "0000aa05-0000-1000-8000-00805f9b34fb" => Some("LandAirSea Tracker".to_string()),
        "0000aa06-0000-1000-8000-00805f9b34fb" => Some("Spytec GPS".to_string()),
        "0000aa07-0000-1000-8000-00805f9b34fb" => Some("Vyncs GPS".to_string()),
        "0000aa08-0000-1000-8000-00805f9b34fb" => Some("MOTOsafety Tracker".to_string()),
        "0000aa09-0000-1000-8000-00805f9b34fb" => Some("BrickHouse Tracker".to_string()),
        
        _ => None,
    }
}

pub fn decode_appearance(appearance: u16) -> Option<String> {
    match appearance {
        0 => Some("Unknown".to_string()),
        64 => Some("Phone".to_string()),
        128 => Some("Computer".to_string()),
        192 => Some("Watch".to_string()),
        193 => Some("Sports Watch".to_string()),
        256 => Some("Clock".to_string()),
        320 => Some("Display".to_string()),
        384 => Some("Remote Control".to_string()),
        448 => Some("Eye-glasses".to_string()),
        512 => Some("Tag".to_string()),
        576 => Some("Keyring".to_string()),
        640 => Some("Media Player".to_string()),
        704 => Some("Barcode Scanner".to_string()),
        768 => Some("Thermometer".to_string()),
        769 => Some("Thermometer: Ear".to_string()),
        832 => Some("Heart Rate Sensor".to_string()),
        833 => Some("Heart Rate Sensor: Belt".to_string()),
        896 => Some("Blood Pressure".to_string()),
        897 => Some("Blood Pressure: Arm".to_string()),
        898 => Some("Blood Pressure: Wrist".to_string()),
        960 => Some("Human Interface Device".to_string()),
        961 => Some("Keyboard".to_string()),
        962 => Some("Mouse".to_string()),
        963 => Some("Joystick".to_string()),
        964 => Some("Gamepad".to_string()),
        965 => Some("Digitizer Tablet".to_string()),
        966 => Some("Card Reader".to_string()),
        967 => Some("Digital Pen".to_string()),
        968 => Some("Barcode Scanner".to_string()),
        1024 => Some("Glucose Meter".to_string()),
        1088 => Some("Running/Walking Sensor".to_string()),
        1089 => Some("Running/Walking Sensor: In-Shoe".to_string()),
        1090 => Some("Running/Walking Sensor: On-Shoe".to_string()),
        1091 => Some("Running/Walking Sensor: On-Hip".to_string()),
        1152 => Some("Cycling".to_string()),
        1153 => Some("Cycling Computer".to_string()),
        1154 => Some("Speed Sensor".to_string()),
        1155 => Some("Cadence Sensor".to_string()),
        1156 => Some("Power Sensor".to_string()),
        1157 => Some("Speed and Cadence Sensor".to_string()),
        1216 => Some("Pulse Oximeter".to_string()),
        1217 => Some("Pulse Oximeter: Fingertip".to_string()),
        1218 => Some("Pulse Oximeter: Wrist".to_string()),
        1280 => Some("Weight Scale".to_string()),
        1344 => Some("Personal Mobility Device".to_string()),
        1408 => Some("Continuous Glucose Monitor".to_string()),
        1472 => Some("Insulin Pump".to_string()),
        1536 => Some("Medication Delivery".to_string()),
        1600 => Some("Outdoor Sports Activity".to_string()),
        3136 => Some("Light Fixtures".to_string()),
        3200 => Some("Fan".to_string()),
        3264 => Some("HVAC".to_string()),
        3328 => Some("Air Conditioning".to_string()),
        3392 => Some("Humidifier".to_string()),
        3456 => Some("Heating".to_string()),
        3520 => Some("Access Control".to_string()),
        3584 => Some("Motorized Device".to_string()),
        3648 => Some("Power Device".to_string()),
        3712 => Some("Light Source".to_string()),
        5184 => Some("Audio Sink".to_string()),
        5185 => Some("Speaker".to_string()),
        5186 => Some("Soundbar".to_string()),
        5187 => Some("Bookshelf Speaker".to_string()),
        5188 => Some("Standmounted Speaker".to_string()),
        5189 => Some("Speakerphone".to_string()),
        5248 => Some("Audio Source".to_string()),
        5249 => Some("Microphone".to_string()),
        5312 => Some("Hearing aid".to_string()),
        5313 => Some("Behind-ear Hearing Aid".to_string()),
        5314 => Some("In-ear Hearing Aid".to_string()),
        5376 => Some("Gaming".to_string()),
        5377 => Some("Home Video Game Console".to_string()),
        5378 => Some("Portable Handheld Console".to_string()),
        5440 => Some("Signage".to_string()),
        5441 => Some("Digital Signage".to_string()),
        5442 => Some("Electronic Label".to_string()),
        5504 => Some("Headphones".to_string()),
        5505 => Some("In-ear Headphones".to_string()),
        5506 => Some("Over-ear Headphones".to_string()),
        5507 => Some("On-ear Headphones".to_string()),
        5568 => Some("Earbuds".to_string()),
        5569 => Some("True Wireless Earbuds".to_string()),
        // Automotive category
        7168 => Some("Vehicle".to_string()),
        7169 => Some("Car".to_string()),
        7170 => Some("Truck".to_string()),
        7171 => Some("Van/Bus".to_string()),
        7172 => Some("Motorcycle".to_string()),
        7173 => Some("Scooter".to_string()),
        7174 => Some("Moped".to_string()),
        7175 => Some("Electric Vehicle".to_string()),
        7176 => Some("Industrial Vehicle".to_string()),
        _ => None,
    }
}

pub fn rssi_to_quality(rssi: i16) -> &'static str {
    match rssi {
        -40..=0 => "Excellent",
        -60..=-41 => "Good",
        -80..=-61 => "Fair",
        _ => "Weak",
    }
}
